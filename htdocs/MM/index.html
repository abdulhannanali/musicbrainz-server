<html>
<head>
  <title>MusicBrainz Metadata Initiative 2.0</title></head>
</head>

<body BGCOLOR="#FFFFE7">

<TABLE ALIGN="CENTER" BORDER="0" WIDTH="86%" CELLSPACING="0" CELLPADDING="0">
<tr><td>

<TABLE BORDER="0" WIDTH="100%" CELLSPACING="0" CELLPADDING="0">
<TR><TD WIDTH="2%" BGCOLOR="#FFFFCC">&nbsp;</TD>
<TD WIDTH="96%" VALIGN="TOP" BGCOLOR="#FFFFCC"><BR>

<center>
<font size="+2">MusicBrainz Metadata Initiative 2.0</font><br>
Last revision: 9-21-2001 by <a href="mailto:rob@eorbit.net">Mayhem &amp; 
Chaos</a>
</center>
<p>

<table>
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </td><td>
<font size="+1" color="red">NOTE:</font> If you're from the RDF/DC community
and would like to help out with the MusicBrainz specification, please
<a href="http://musicbrainz.org/pipermail/musicbrainz/2001-May/000871.html">read this post</a> for some background information and the current issues at hand.
<tr><td>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </td><td>
</tr>
</table>

<font size="+2" color=990000>Table of Contents</font><p>

<ul>
<li><a href="#intro">Introduction</a>
<li><a href="#protocol">General Protocol Definition</a>
<li><a href="#cdmp">Compact Disk Lookup Namespace</a>
<li><a href="#mm">MusicBrainz Metadata Namespace</a>
<li><a href="#mq">MusicBrainz Query Namespace</a>
<li><a href="#mem">MusicBrainz Extended Metadata Namespace</a>
</ul>

<a name="intro"></a>
<font size="+2" color=990000>Introduction</font><p>

<p>

The MusicBrainz Metadata Initiative is designed to create a portable
and flexible means of storing and exchanging metadata related to digital
audio and video tracks. The MusicBrainz Metadata Initiative is a content 
description model for audio and video tracks on the Internet.

<p>
The MM Initiative uses 
<a href="http://www.w3.org/RDF">RDF/XML</a> to facilitate the exchange
of audio/video related metadata. This document describes an RDF namespace
that should be used in conjunction with the 
<a href="http://purl.org/DC/documents/rec-dces-19990702.htm">Dublin Core</a> metadata recommendation.

<p>This specification will be used by the MusicBrainz.org metadata server
to communicate metadata queries. All the data returned from the server will
be in the MM/Dublin Core RDF format. Furthermore, this format will hopefully
be used by the Open Source audio codec <a href="http://www.vorbis.com">
Vorbis</a> to store audio/video metadata with the audio/video tracks.

<p>This initiative defines the following four namespaces:

<center>
<table border="1">
<tr><th>Namespace</th>
<th>Namespace URI</th></tr>
<tr><td>cdmp</td>
<td>http://musicbrainz.org/mm/cdmp-1.0#</td></tr>
<tr><td>mm</td>
<td>http://musicbrainz.org/mm/mm-2.0#</td></tr>
<tr><td>mq</td>
<td>http://musicbrainz.org/mm/mq-1.0#</td></tr>
<tr><td>mem</td>
<td>http://musicbrainz.org/mm/mem-1.0#</td></tr>
</table>
</center>

<p>The namespace abbreviations (cdmp, mm, mq, mem) will be used throughout
the remainder of this document, to refer to the namespaces defined above.


<p>If you have any feedback/comments/gripes/requests regarding this
proposal, please join the <a href="http://www.freeamp.org/mailman/listinfo/mm">MM Mailing list</a> and post your feedback.

<p>
[<a href="mm2_examples.html">MusicBrainz RDF Examples</a> |
<a href="cdmp_examples.html">Compact Disk Lookup RDF Examples</a> |
<a href="http://www.w3.org/RDF">RDF Information</a> |
<a href="http://www.purl.org/DC">Dublin Core Home Page</a>]
<p>

<a name="protocol"></a>
<font size="+2" color=990000>General Protocol Definition</font><p>

The metadata queries defined here are carried over the <a
href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">HTTP/1.1</a>
protocol. By using the HTTP/1.1 protocol, the metadata query system
can take advantage of existing HTTP implementations and pass
through firewalls without any special considerations. 

<p>
A MM enabled server must implement HTTP/1.1 fully, unless otherwise
noted in this document. Furthermore, an MM server should listen for 
requests on port 80, following the standard HTTP convention to allow the 
metadata requests to flow across firewalls unhindered.

<p>
<font size="+1">Character Encodings</font>
<p>

In order to achieve the most versatile international support in this
protocol, the recommended encoding for use with this protocol is <a
href="ftp://ftp.isi.edu/in-notes/rfc2279.txt">UTF-8</a>. However, the
XML/RDF that is POSTed to the server by a client can be in any XML
compliant character encoding. The server will convert any incoming
data to UTF-8 and process it in UTF-8 and respond to the client
using the UTF-8 encoding. 

<p>
<font size="+1">Client Requests</font>

<p>
Client requests may either use the HTTP GET or POST commands. All of
the functions provided by the server are accessible via POSTing
query/submission data in RDF format to the MM capable server.
Other methods (OPTIONS, HEAD, PUT, DELETE, TRACE, CONNECT) will 
receive an error response.  

<p>
Some functions may have GET command shortcuts to ease the implementation
on the client side. However, any functions that must pass data to the server
that may not be encodable into a compliant URL, do not have GET functions
defined, and the POST functions should be used instead. 

<p>
For example, the searching functions require that a search string be 
passed to the server. However, using a GET function requires the
search string to be encoded into a valid URL, which must be encoded
in the ISO-8859-1 character encoding. Thus, search functions using the
GET command cannot correctly search all of the data available on the
server.

<p>
The specific details for accessing the server features with GET and POST
commands are described in the following namespace definitions. For
each RDF examples given in the sections below, the client can POST
that RDF document to the server. 

<p>
<font size="+1">Server Responses</font>

<p>
Server responses are compliant with the HTTP/1.1 protocol, and
the data returned in the body of the response is in XML/RDF format
described in the following sections.

<p>Only the following status codes and reason phrases are valid:
<ul>
<li>200 OK - Successful query and normal response.
<li>202 Accepted - Submission accepted and batched for review or merge.
<li>204 No Content - Query was understood but there is no content. As 
in HTTP/1.1, there must not be a message body following this status code.
<li>400 Bad Request - There was an error processing the request. This
may also be used for 405 Method Not Allowed since only one method is
allowed.
<li>403 Forbidden - The server refuses to process the request. Used
for refusal to accept metadata submissions.
<li>500 Internal Server Error - Random catch-all for server errors.
This indicates a bug in the server software, otherwise pass a status 503.
<li>503 Service Unavailable - The server is temporarily unable to service
this request, although it may have been valid. Clients are advised to
try another MM server if this message is received.
</ul>

<p>Required headers:
<ul>
<li>Server: - Server name and version number.
<li>Date: - Server date, as per HTTP/1.1.
<li>Content-type: - "text/xml" is the only valid return content type.
</ul>

<p>Optional headers:
<ul>
<li>Connection: - The "close" value is required here for implementations
not supporting persistent connections, as in HTTP/1.1.
</ul>


<a name="cdmp"></a>
<font size="+2" color=990000>cdmp: Compact Disk Lookup Namespace</font><p>

The cdmp namespace defines RDF classes and properties that facilitate
CD-ROM lookups between an RDF enabled client and an RDF/cdmp compatible
metadata server.

<p> <font size="+1"><b>Classes</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>LookupCD</b><br>
[<a href="cdmp_examples.html#lookup">Example</a>]
</td><td valign="top">
This class is used to create a CD-ROM lookup query. Include the offsets or
cdmpId properties as arguments to this query. Optionally you may also
include a threshold property to indicate that this search should be 
carried as an inexact match. Include the maxreturn property to indicate the
maximum number of CD-ROM metadata items to return.
</td></tr>

<tr><td valign="top" align="right">
<b>SearchCD</b><br>
[<a href="cdmp_examples.html#searchcd">Example</a>]
</td><td valign="top">
This class is used to create a CD-ROM search query. Include the 
mm:Artist/dc:creator, contributor, modifyDate, label, offset or 
source properties.
</td></tr>

<tr><td valign="top" align="right">
<b>SubmitCD</b><br>
[<a href="cdmp_examples.html#submitcd">Example</a>]
</td><td valign="top">
This class is used to submit a CD-ROM to the server. Include the 
dc:title, mm:Artist, mm:tracklist properties to describe the CD-ROM.
</td></tr>

<tr><td valign="top" align="right">
<b>CDMetadata</b><br>
[<a href="cdmp_examples.html#resultcd">Example</a>]
</td><td valign="top">
CDMetadata defines the metadata for a given CD-ROM. Inside of this
class, use dc:title, mm:Artist, and mm:trackList properties to describe
the CD-ROM.
</td></tr>

<tr><td valign="top" align="right">
<b>ResultCD</b><br>
[<a href="cdmp_examples.html#resultcd">Example</a>]
</td><td valign="top">
The ResultCD class is used to contain the description of one CD. A server
query response should contain a ResultCD element if only one CD
was found. For a response with multiple CDs, the server should respond
with ResultCDList element.
</td></tr>

<tr><td valign="top" align="right">
<b>ResultCDList</b><br>
[<a href="cdmp_examples.html#resultcdlist">Example</a>]
</td><td valign="top">
The ResultCDList class contains the description of multiple CDs. This
class should contain one cdList property, which in turn defines
a Bag of CDMetadata elements.
</td></tr>

</table>


<p> <font size="+1"><b>Properties</b></font> <p>

<table>

<tr><td valign="top" align="right">
<b>cd</b>
</td><td valign="top">
This property will contain one CDMetadata element to describe one CD.
</td></tr>

<tr><td valign="top" align="right">
<b>cdList</b>
</td><td valign="top">
This property will contain a bag of CDMetadata elements to describe a list 
of CDs.
</td></tr>

<tr><td valign="top" align="right">
<b>cdmpId</b>
</td><td valign="top">
The cdmpId calculated for a CD-ROM. The exact algorithm for calculating this
Id will still need to get nailed down.
</td></tr>

<tr><td valign="top" align="right">
<b>threshold</b>
</td><td valign="top">
A number from 0 to 100 giving the near match threshold. The higher the number, the more exact the match must be. The algorithm for this threshold will be documented as well. 
</td></tr>

<tr><td valign="top" align="right">
<b>offsets</b>
</td><td valign="top">
The track offsets for the CD, each separated by '-'.
</td></tr>

<tr><td valign="top" align="right">
<b>maxReturn</b>
</td><td valign="top">
The maximum number of near matches to return.
</td></tr>

<tr><td valign="top" align="right">
<b>freeDBId</b>
</td><td valign="top">
Specifies a backward compatible FreeDBId.
</td></tr>

<tr><td valign="top" align="right">
<b>contributor</b>
</td><td valign="top">
Email address or name of person who contributed information
</td></tr>

<tr><td valign="top" align="right">
<b>modifyDate</b>
</td><td valign="top">
When this record was last modified. The format is the suggested 
<a href="http://www.w3.org/TR/NOTE-datetime">W3 Date/Time</a> which
is a subset of the ISO 8601 date format standard.
</td></tr>

<tr><td valign="top" align="right">
<b>label</b>
</td><td valign="top">
Optional record label for use with SearchCD
</td></tr>

<tr><td valign="top" align="right">
<b>source</b>
</td><td valign="top">
The name of the program that submitted the CD.
</td></tr>

</table>

<p>
To specify the name of an artist for searching for a CD, use the
MM:Artist/dc:title class/property combination. 
[<a href="cdmp_examples.html#searchcd">Example</a>]

<p> <font size="+1"><b>HTTP Command Details</b></font> <p>

All POST commands should be posted to: <b>http://[servername]/cdmp</b><p>
Also, the following GET shortcuts have been defined:
<table>

<tr><td valign="top" align="right">
<b>lookupcd</b>
</td><td valign="top">
GET /cdmp/lookupcd?offsets=150-77950-2093
</td></tr>

<tr><td valign="top" align="right">
<b>lookupcd<br>(inexact)</b>
</td><td valign="top">
GET /cdmp/lookupcd?offsets=150-77950-2093&amp;threshold=90&amp;maxreturns=50
</td></tr>

</table>

<p>

<a name="mm"></a>
<font size="+2" color=990000>mm: MusicBrainz Metadata Namespace</font><p>

The mm namespace defines RDF classes and properties for expressing basic
music related metadata. This namespace intentionally focuses on the primitives
for metadata; more detailed metadata will be supported in the 
<a href="#mem">MusicBrainz Extended Metadata Namespace</a>.

<p> <font size="+1"><b>Classes</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>Artist</b><br>
[<a href="mm_examples.html#artist">Example</a>]
</td><td valign="top">
This class is used to describe an Artist. Inside of Artist, use dc:title,
mm:sortName, and mm:albumList to describe the name and sortname of the artist
as well as a list of albums available by that artist.
</td></tr>

<tr><td valign="top" align="right">
<b>Album</b><br>
[<a href="mm_examples.html#artist">Example</a>]
</td><td valign="top">
Use this to describe an Album. The dc:title, dc:creator and mm:trackList
properties should be used to describe the album.
</td></tr>

<tr><td valign="top" align="right">
<b>Track</b><br>
[<a href="mm_examples.html#artist">Example</a>]
</td><td valign="top">
Use Track to describe one audio track. Use the dc:title, mm:trackNum, 
dc:creator, mm:trmId properties to descibe a track.
</td></tr>

</table>


<p> <font size="+1"><b>Properties</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>sortName</b>
</td><td valign="top">
Use this to indicate the name of an artist for use in an alphabetically
sorted list. If the dc:title field for an Artist contains "The Beatles",
this field should contain "Beatles, The".
</td></tr>

<tr><td valign="top" align="right">
<b>trackNum</b>
</td><td valign="top">
This indicates the sequence number for a track in a given album. Tracknumbers
start with 1.
</td></tr>

<tr><td valign="top" align="right">
<b>trmId</b>
</td><td valign="top">
This property is used to indicate a Relatable TRM Id for an audio track.
</td></tr>

<tr><td valign="top" align="right">
<b>cdindexId</b>
</td><td valign="top">
Used to convey a CD Index Disk Id for a CD-ROM.
</td></tr>

<tr><td valign="top" align="right">
<b>artistList</b>
[<a href="mq_examples.html#artist">Example</a>]
</td><td valign="top">
This property is used to convey a list of artists.
</td></tr>

<tr><td valign="top" align="right">
<b>albumList</b><br>
[<a href="mq_examples.html#album">Example</a>]
</td><td valign="top">
This property is used to convey a list of albums.
</td></tr>

<tr><td valign="top" align="right">
<b>trackList</b><br>
[<a href="mq_examples.html#track">Example</a>]
</td><td valign="top">
This property is used to convey a list of tracks.
</td></tr>

<tr><td valign="top" align="right">
<b>duration</b>
</td><td valign="top">
Used to indicate the duration of a track in milliseconds.
</td></tr>

<tr><td valign="top" align="right">
<b>genre</b>
</td><td valign="top">
This is a free-form text field that indicates the genre for a given track.
</td></tr>

</table>

<p> <font size="+1"><b>HTTP Command Details</b></font> <p>

There are no command details defined for this namespace. This namespace
serves as a helper namespace for the <a href="#cdmp">cdmp</a> and
<a href="#mq">mq</a> namespaces.

<p><a name="mq"></a>
<font size="+2" color=990000>mq: MusicBrainz Query Namespace</font><p>

[ <font color="red">ed:</font> This section is incomplete -- however this
namespace is not required for use with the cdmp namespace. ]

<p>
The mq namespace defines RDF classes and properties that facilitate
metadata lookups between an RDF enabled client and a MusicBrainz 
metadata server.

<p> <font size="+1"><b>Classes</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>Result</b><br>
[<a href="mq_examples.html#artist">Example</a>]
</td><td valign="top">
The Result class is used to encapsulate all of the server responses. It
will contain a mq:status property which contains a query status code from
the server. Currently only OK is defined as a valid value. The Result
class will also contain one artistList, albumList or trackList, depending 
on what type of query was executed by the server.
</td></tr>

<tr><td valign="top" align="right">
<b>SubmitTrack</b><br>
[<a href="mq_examples.html#submit">Example</a>]
</td><td valign="top">
This class is used to submit metadata for one track.
</td></tr>

<tr><td valign="top" align="right">
<b>LookupMetadata</b><br>
[<a href="mq_examples.html#lookup">Example</a>]
</td><td valign="top">
This class is used to lookup metadata for one track. This query returns
the same data that ExchangeMetadata returns, but no metadata is sent to
the server.  Please consider using ExchangeMetadata whenever possible in
order to contribute metadata back to the server.
</td></tr>

<tr><td valign="top" align="right">
<b>ExchangeMetadata</b><br>
[<a href="mq_examples.html#exchange">Example</a>]
</td><td valign="top">
The ExchangeMetadata class is used to send known metadata about one
track to the server. The server will then respond with known metadata
about this track. If this track has never been seen before, the server
will return the exact data that was sent to the server. If that track 
has been seen before, the metadata for that track is returned by the
server. Please note that ExchangeMetadata also sends instance specific 
metadata (Bitprint, file size, bitrate, etc) to the server for inclusion
in the Bitzi community metadatabase. For more details about this, 
please visit <a href="http://bitzi.com">Bitzi's website</a>. If you do
not wish to contribute to the Bitzi metadatabase, then use 
ExchangeMetadataLite.
</td></tr>

<tr><td valign="top" align="right">
<b>ExchangeMetadataLite</b><br>
[<a href="mq_examples.html#exchangelite">Example</a>]
</td><td valign="top">
This class is used in the same manner as ExchangeMetadata, but no instance
specific metadata is sent to the server.
</td></tr>

<tr><td valign="top" align="right">
<b>FindDisctinctTrmId</b><br>
[<a href="mq_examples.html#finddistinct">Example</a>]
</td><td valign="top">
Use the FindDistinctTrmId class to query the server about a trmid. Given
mq:artistName and mq:trackName the server will find a track that matches
the two criteria and return one track in a trmidList.
</td></tr>

<tr><td valign="top" align="right">
<b>FindArtist</b><br>
[<a href="mq_examples.html#findartist">Example</a>]
</td><td valign="top">
The FindArtist class can be used to query the server for artists that
match a given search string. Use mq:artistName to specify the search
string.
</td></tr>

<tr><td valign="top" align="right">
<b>FindAlbum</b><br>
[<a href="mq_examples.html#findalbum">Example</a>]
</td><td valign="top">
The FindAlbum class can be used to query the server for albums that
match a given artist and album search strings. Use mq:artistName and 
mq:albumName to specify the search strings.
</td></tr>

<tr><td valign="top" align="right">
<b>FindTrack</b><br>
[<a href="mq_examples.html#findtrack">Example</a>]
</td><td valign="top">
The FindTrack class can be used to query the server for tracks that
match a given artist, album and track search strings. Use mq:artistName,
mq:albumName, and mq:trackName to specify the search strings.
</td></tr>

<tr><td valign="top" align="right">
<b>GetCDInfo</b><br>
[<a href="mq_examples.html#getcd">Example</a>]
</td><td valign="top">
Use the GetCDInfo to retrieve metadata for a given CD. Use the mm:cdindexId
property to specify the CD Index disk id.
</td></tr>
</table>

<p> <font size="+1"><b>Properties</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>status</b>
</td><td valign="top">
This property specifies the result status of the query. Currently the
only valid value is OK.
</td></tr>

<tr><td valign="top" align="right">
<b>depth</b>
</td><td valign="top">
The depth property allows the client to set the level of information
that is returned by the server. Using a depth of 1 will only return
the topmost list of resources. Using a depth of 2 will return all of the 
resources referenced by the topmost list of resources. Each subsequently
higher value of depth will return 

</td></tr>

<tr><td valign="top" align="right">
<b>artistName</b>
</td><td valign="top">
</td></tr>

<tr><td valign="top" align="right">
<b>albumName</b>
</td><td valign="top">
</td></tr>

<tr><td valign="top" align="right">
<b>trackName</b>
</td><td valign="top">
</td></tr>

</table>




<p><a name="mem"></a>
<font size="+2" color=990000>mem: MusicBrainz Extended Metadata Namespace</font><p>

[ <font color="red">ed:</font> This section is incomplete -- however this
namespace is not required for use with the cdmp namespace. ]

<p>
The mem namespace defines RDF classes and properties for expressing extended
music related metadata that is not covered by the <a href="#mm">MusicBrainz 
Metadata Namespace</a>. This namespace focuses on the more detailed
metadata such as contributors, roles, lyrics, release dates, remix/cover 
information, etc. 

<p> <font size="+1"><b>Classes</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>Lyrics</b>
</td><td valign="top">
To be completed.
</td></tr>

<tr><td valign="top" align="right">
<b>Role</b>
</td><td valign="top">
</td></tr>

<tr><td valign="top" align="right">
<b>Contributor</b>
</td><td valign="top">
</td></tr>

</table>


<p> <font size="+1"><b>Properties</b></font> <p>

<table>
<tr><td valign="top" align="right">
<b>remixInfo</b>
</td><td valign="top">
To be completed.
</td></tr>

<tr><td valign="top" align="right">
<b>coverInfo</b>
</td><td valign="top">
</td></tr>

</table>


<br> <br> <br> <br>

</TD><TD WIDTH="2%" BGCOLOR="#FFFFCC">&nbsp;</TD>
</TR></TABLE>

</td></tr></table>

</body>
</html>

<& /comp/sidebar, title=>'MusicBrainz Metadata Initiative 2.1' &>

<table width="420">
<tr><td>

<center>
Last revision: 2003-02-06 by <a href="mailto:rob@eorbit.net">Mayhem &amp; 
Chaos</a>
</center>
<p>

<font size="+1" color=990000>Table of Contents</font><p>

<ul>
<li><a href="#intro">Introduction</a>
<li><a href="#protocol">General Protocol Definition</a>
<li><a href="#mm">MusicBrainz Metadata Namespace</a>
<li><a href="#mq">MusicBrainz Query Namespace</a>
<li><a href="#mem">MusicBrainz Extended Metadata Namespace</a>
</ul>

<a name="intro"></a>
<font size="+1" color=990000>Introduction</font><p>

<p>

The MusicBrainz Metadata Initiative is designed to create a portable
and flexible means of storing and exchanging metadata related to digital
audio and video tracks. The MusicBrainz Metadata Initiative is a content 
description model for audio and video tracks on the Internet.

<p>
The MM Initiative uses 
<a href="http://www.w3.org/RDF">RDF/XML</a> to facilitate the exchange
of audio/video related metadata. This document describes an RDF namespace
that should be used in conjunction with the 
<a href="http://purl.org/DC/documents/rec-dces-19990702.htm">Dublin Core</a> metadata recommendation.

<p>This specification will be used by the MusicBrainz.org metadata server
to communicate metadata queries. All the data returned from the server will
be in the MM/Dublin Core RDF format. 

<p>This initiative defines the following namespaces:

<center>
<table border="1" cellpadding="3" cellspacing="1">
<tr><th>Namespace</th>
<th>Namespace URI</th></tr>
<tr><td>mm</td>
<td>http://musicbrainz.org/mm/mm-2.1#</td></tr>
<tr><td>mq</td>
<td>http://musicbrainz.org/mm/mq-1.1#</td></tr>
<tr><td>mem</td>
<td>http://musicbrainz.org/mm/mem-1.0#</td></tr>
</table>
</center>

<p>The namespace abbreviations (mm, mq, mem) will be used throughout
the remainder of this document, to refer to the namespaces defined above.

<p>
[ <a href="mm_examples.html">MusicBrainz RDF Example</a> |
<a href="http://www.w3.org/RDF">RDF Information</a> |
<a href="http://www.purl.org/DC">Dublin Core Home Page</a>]
<p>

<a name="protocol"></a>
<font size="+1" color=990000>General Protocol Definition</font><p>

The metadata queries defined here are carried over the <a
href="http://www.w3.org/Protocols/rfc2616/rfc2616.html">HTTP/1.1</a>
protocol. By using the HTTP/1.1 protocol, the metadata query system
can take advantage of existing HTTP implementations and pass
through firewalls without any special considerations. 

<p>
A MM enabled server must implement HTTP/1.1 fully, unless otherwise
noted in this document. Furthermore, an MM server should listen for 
requests on port 80, following the standard HTTP convention to allow the 
metadata requests to flow across firewalls unhindered.

<p>
<b>Character Encodings</b>
<p>

In order to achieve the most versatile international support in this
protocol, the recommended encoding for use with this protocol is <a
href="ftp://ftp.isi.edu/in-notes/rfc2279.txt">UTF-8</a>. However, the
XML/RDF that is POSTed to the server by a client can be in any XML
compliant character encoding. The server will convert any incoming
data to UTF-8 and process it in UTF-8 and respond to the client
using the UTF-8 encoding. 

<p>
<b>Client Requests</b>

<p>
Client requests may either use the HTTP GET or POST commands. All of
the functions provided by the server are accessible via POSTing
query/submission data in RDF format to the MM capable server.
Other methods (OPTIONS, HEAD, PUT, DELETE, TRACE, CONNECT) will 
receive an error response.  

<p>
Some functions may have GET command shortcuts to ease the implementation
on the client side. However, any functions that must pass data to the server
that may not be encodable into a compliant URL, do not have GET functions
defined, and the POST functions should be used instead. 

<p>
For example, the searching functions require that a search string be 
passed to the server. However, using a GET function requires the
search string to be encoded into a valid URL, which must be encoded
in the ISO-8859-1 character encoding. Thus, search functions using the
GET command cannot correctly search all of the data available on the
server.

<p>
The specific details for accessing the server features with GET and POST
commands are described in the following namespace definitions. For
each RDF examples given in the sections below, the client can POST
that RDF document to the server. 

<p>
<b>Server Responses</b>

<p>
Server responses are compliant with the HTTP/1.1 protocol, and
the data returned in the body of the response is in XML/RDF format
described in the following sections.

<p>Only the following status codes and reason phrases are valid:
<ul>
<li>200 OK - Successful query and normal response.
<li>202 Accepted - Submission accepted and batched for review or merge.
<li>204 No Content - Query was understood but there is no content. As 
in HTTP/1.1, there must not be a message body following this status code.
<li>400 Bad Request - There was an error processing the request. This
may also be used for 405 Method Not Allowed since only one method is
allowed.
<li>403 Forbidden - The server refuses to process the request. Used
for refusal to accept metadata submissions.
<li>500 Internal Server Error - Random catch-all for server errors.
This indicates a bug in the server software, otherwise pass a status 503.
<li>503 Service Unavailable - The server is temporarily unable to service
this request, although it may have been valid. Clients are advised to
try another MM server if this message is received.
</ul>

<p>Required headers:
<ul>
<li>Server: - Server name and version number.
<li>Date: - Server date, as per HTTP/1.1.
<li>Content-type: - "text/xml" is the only valid return content type.
</ul>

<p>Optional headers:
<ul>
<li>Connection: - The "close" value is required here for implementations
not supporting persistent connections, as in HTTP/1.1.
</ul>

<a name="mm"></a>
<font size="+1" color=990000>mm: MusicBrainz Metadata Namespace</font><p>

The mm namespace defines RDF classes and properties for expressing basic
music related metadata. This namespace intentionally focuses on the primitives
for metadata; more detailed metadata will be supported in the 
<a href="#mem">MusicBrainz Extended Metadata Namespace</a>.

<p><b>Classes</b><p>

<table>
<tr><td valign="top" align="right">
<b>Artist</b><br>
[<a href="mm_examples.html#artist">Example</a>]
</td><td valign="top">
This class is used to describe an Artist. Inside of Artist, use dc:title,
mm:sortName, and mm:albumList to describe the name and sortname of the artist
as well as a list of albums available by that artist.
</td></tr>

<tr><td valign="top" align="right">
<b>Album</b><br>
[<a href="mm_examples.html#artist">Example</a>]
</td><td valign="top">
Use this to describe an Album. The dc:title, dc:creator and mm:trackList
properties should be used to describe the album.
</td></tr>

<tr><td valign="top" align="right">
<b>Track</b><br>
[<a href="mm_examples.html#artist">Example</a>]
</td><td valign="top">
Use Track to describe one audio track. Use the dc:title, mm:trackNum, 
dc:creator, mm:trmId properties to descibe a track.
</td></tr>

</table>


<p><b>Properties</b><p>

<table>
<tr><td valign="top" align="right">
<b>sortName</b>
</td><td valign="top">
Use this to indicate the name of an artist for use in an alphabetically
sorted list. If the dc:title field for an Artist contains "The Beatles",
this field should contain "Beatles, The".
</td></tr>

<tr><td valign="top" align="right">
<b>trackNum</b>
</td><td valign="top">
This indicates the sequence number for a track in a given album. trackNum will only
be used if a track number must be specified outside of the context of an album. When
tracks are described inside of an album context, then the track list order defines
the track number implicitly. Track numbers start with 1.
</td></tr>

<tr><td valign="top" align="right">
<b>trmid</b>
</td><td valign="top">
This property is used to indicate a Relatable TRM Id for an audio track.
</td></tr>

<tr><td valign="top" align="right">
<b>cdindexid</b>
</td><td valign="top">
Used to describe a CD Index Disk Id for a CD-ROM.
</td></tr>

<tr><td valign="top" align="right">
<b>duration</b>
</td><td valign="top">
Used to indicate the duration of a track in milliseconds.
</td></tr>

<tr><td valign="top" align="right">
<b>releaseType</b>
</td><td valign="top">
Indicates the type of a release. The possible values are: TypeAlbum, TypeSingle, TypeEP, TypeCompilation, TypeSoundtrack, TypeSpokenword, TypeInterview, TypeAudiobook, TypeLive, TypeRemix, TypeOther.
</td></tr>

<tr><td valign="top" align="right">
<b>releaseType</b>
</td><td valign="top">
Indicates the status of a release. The possible values are: StatusOfficial, StatusPromotion, StatusBootleg.
</td></tr>

<tr><td valign="top" align="right">
<b>duration</b>
</td><td valign="top">
Used to indicate the duration of a track in milliseconds.
</td></tr>

<tr><td valign="top" align="right">
<b>artistList</b>
[<a href="mq_examples.html#artist">Example</a>]
</td><td valign="top">
This property is used to convey a list of artists.
</td></tr>

<tr><td valign="top" align="right">
<b>albumList</b><br>
[<a href="mq_examples.html#album">Example</a>]
</td><td valign="top">
This property is used to describe a list of albums.
</td></tr>

<tr><td valign="top" align="right">
<b>trackList</b><br>
[<a href="mq_examples.html#track">Example</a>]
</td><td valign="top">
This property is used to convey a list of tracks.
</td></tr>

<tr><td valign="top" align="right">
<b>cdindexidList</b><br>
[<a href="mq_examples.html#album">Example</a>]
</td><td valign="top">
This property is used to describe a list of CD Index ids in an album.
</td></tr>

<tr><td valign="top" align="right">
<b>trmidList</b><br>
[<a href="mq_examples.html#track">Example</a>]
</td><td valign="top">
This property is used to describe a list of TRM ids in a track.
</td></tr>

</table>

<p><a name="mq"></a>
<font size="+1" color=990000>mq: MusicBrainz Query Namespace</font><p>

<p>
The mq namespace defines RDF classes and properties that facilitate
metadata lookups between an RDF enabled client and a MusicBrainz 
metadata server.

<p><b>Classes</b><p>

<table>
<tr><td valign="top" align="right">
<b>Result</b><br>
[<a href="mq_examples.html#artist">Example</a>]
</td><td valign="top">
The Result class is used to encapsulate all of the server responses. It
will contain a mq:status property which contains a query status code from
the server. Currently only OK is defined as a valid value. The Result
class will also contain one artistList, albumList or trackList, depending 
on what type of query was executed by the server.
</td></tr>

<tr><td valign="top" align="right">
<b>SubmitTrack</b><br>
[<a href="mq_examples.html#submit">Example</a>]
</td><td valign="top">
This class is used to submit metadata for one track. Not currently supported
on the main server.
</td></tr>

<tr><td valign="top" align="right">
<b>LookupMetadata</b><br>
[<a href="mq_examples.html#lookup">Example</a>]
</td><td valign="top">
This class is used to lookup metadata for one track. This query returns
the same data that ExchangeMetadata returns, but no metadata is sent to
the server.  Please consider using ExchangeMetadata whenever possible in
order to contribute metadata back to the server.
</td></tr>

<tr><td valign="top" align="right">
<b>FindDisctinctTrmId</b><br>
[<a href="mq_examples.html#finddistinct">Example</a>]
</td><td valign="top">
Use the FindDistinctTrmId class to query the server about a trmid. Given
mq:artistName and mq:trackName the server will find a track that matches
the two criteria and return one track in a trmidList.
</td></tr>

<tr><td valign="top" align="right">
<b>FindArtist</b><br>
[<a href="mq_examples.html#findartist">Example</a>]
</td><td valign="top">
The FindArtist class can be used to query the server for artists that
match a given search string. Use mq:artistName to specify the search
string.
</td></tr>

<tr><td valign="top" align="right">
<b>FindAlbum</b><br>
[<a href="mq_examples.html#findalbum">Example</a>]
</td><td valign="top">
The FindAlbum class can be used to query the server for albums that
match a given artist and album search strings. Use mq:artistName and 
mq:albumName to specify the search strings.
</td></tr>

<tr><td valign="top" align="right">
<b>FindTrack</b><br>
[<a href="mq_examples.html#findtrack">Example</a>]
</td><td valign="top">
The FindTrack class can be used to query the server for tracks that
match a given artist, album and track search strings. Use mq:artistName,
mq:albumName, and mq:trackName to specify the search strings.
</td></tr>

<tr><td valign="top" align="right">
<b>GetCDInfo</b><br>
[<a href="mq_examples.html#getcd">Example</a>]
</td><td valign="top">
Use the GetCDInfo to retrieve metadata for a given CD. Use the mm:cdindexId
property to specify the CD Index disk id.
</td></tr>

<tr><td valign="top" align="right">
<b>SubmitTRMList</b><br>
[<a href="mq_examples.html#submittrm">Example</a>]
</td><td valign="top">
Use this query to submit a list of TRM id and track id pairs. The pairs
must be submitted in a mq:trmTrackPair inside of a mm:trmidList Sequence.
</td></tr>
</table>

<p><b>Properties</b><p>

<table>
<tr><td valign="top" align="right">
<b>status</b>
</td><td valign="top">
This property specifies the result status of the query. Currently the
only valid value is OK.
</td></tr>

<tr><td valign="top" align="right">
<b>depth</b>
</td><td valign="top">
The depth property allows the client to set the level of information
that is returned by the server. Using a depth of 1 will only return
the topmost list of resources. Using a depth of 2 will return all of the 
resources referenced by the topmost list of resources. Each subsequently
higher value of depth will return more information.
</td></tr>

<tr><td valign="top" align="right">
<b>artistName</b>
</td><td valign="top">
</td></tr>

<tr><td valign="top" align="right">
<b>albumName</b>
</td><td valign="top">
</td></tr>

<tr><td valign="top" align="right">
<b>trackName</b>
</td><td valign="top">
</td></tr>

</table>




<p><a name="mem"></a>
<font size="+1" color=990000>mem: MusicBrainz Extended Metadata Namespace</font><p>

<p>
The mem namespace is reserved for future use in expressing extended
music related metadata that is not covered by the <a href="#mm">MusicBrainz 
Metadata Namespace</a>. This namespace will focus on the more detailed
metadata such as contributors, roles, lyrics, release dates, remix/cover 
information, etc. 


<br> <br> <br> <br>

</td></tr></table>

<& /comp/footer &>

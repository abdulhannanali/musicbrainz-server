%# vi: set ts=4 sw=4 ft=mason :
<%args>
$artistid => ""
</%args>

<%perl>

MusicBrainz::IsNonNegInteger($artistid) && $artistid
	or return $m->comp("/comp/badargs", 1, 1);

my $mb = $m->comp("/comp/dblogin");

my $ar = Artist->new($mb->{DBH});
$ar->SetId($artistid);
$ar->LoadFromId
	or return $m->comp(
		"/comp/error",
		"Artist #$artistid not found",
		1, 1,
	);

</%perl>

<& /comp/sidebar, title => "Artist Details: " . $ar->GetName &>

<& /comp/artistinfo, artist => $ar &>

<& /comp/footer &>

<%perl>
	# -----------------------------------------------------------------------------
	#                               Musicbrainz.org
	#                        Copyright (c) 2001 Robert Kaye
	# -----------------------------------------------------------------------------
	#  This software is provided "as is", without warranty of any kind, express or
	#  implied, including  but not limited  to the warranties of  merchantability,
	#  fitness for a particular purpose and noninfringement. In no event shall the
	#  authors or  copyright  holders be  liable for any claim,  damages or  other
	#  liability, whether  in an  action of  contract, tort  or otherwise, arising
	#  from,  out of  or in  connection with  the software or  the  use  or  other
	#  dealings in the software.
	#
	#  GPL - The GNU General Public License    http://www.gnu.org/licenses/gpl.txt
	#  Permits anyone the right to use and modify the software without limitations
	#  as long as proper  credits are given  and the original  and modified source
	#  code are included. Requires  that the final product, software derivate from
	#  the original  source or any  software  utilizing a GPL  component, such  as
	#  this, is also licensed under the GPL license.
	# -----------------------------------------------------------------------------
	#
	# Summary:
	# -----------------------------------------------------------------------------
	# Renders lookup form suggestion texts.
	#
	# $Id$
	#
</%perl>
<%args>

	$artist => ""
	$album => ""
	$artistobj => undef
	$albumobj => undef
	$data => undef

</%args>

<%perl>

	my ($search, $display);

	$artist = $artistobj->GetName() if (defined $artistobj && $artistobj->GetName() ne "");
	$album = $albumobj->GetName() if (defined $albumobj && $albumobj->GetName() ne "");

	$artist = $data->{artist} if (defined $data && $artist eq '');
	$album = $data->{album} if (defined $data && $album eq '');

	$search = "$artist $album";
	if ($artist ne '' && $album ne '')
	{
		$display = "$album by $artist";
	}
	else
	{
		$display = "$album $artist";
	}

</%perl>

	<strong>Did you not find what you were looking for?</strong><p/>
	If you cannot find what you are looking for, it's possible that
	<strong>your search terms did not match our data</strong>.

	Try the following:

	<ul>
		<li>
			<strong>Modify your search terms in the box below</strong> and search again.<br/>
			Often it helps to remove information such as words that might
			be misspelled, remix names, featured artists, etc.<br/>
			Your tags may differ considerably from the data in MusicBrainz,
			as we edit data according to our <& /comp/linkdoc, "StyleGuideline",
			"style guidelines" &>, so less specific searches may find what
			you are looking for. This is especially true if your tags are
			inaccurate.
			There are more searching hints on the <& /comp/linkdoc, "HowToSearch",
			"How to search" &> page.</li>

% 	if (defined $artistobj)
%	{

		<li>
			<strong>Look for the release on the artist page of
			<& /comp/linkartist, artist => $artistobj &></strong>. You may
			find that the release you are looking for is on the artists page
			even if the search did not return it.</li>

% 	}
%	else
%	{

		<li>
			<strong>Search for the artist and look for the release on the artist
			page</strong>. You may find that the release you are looking for is
			on the artists page even if the search did not return it.</li>
% 	}

    	<li>
    		<strong>Search for just the artist, release or track using the quick
    		search in the sidebar</strong>. The quick search only tries to
    		match one piece of data, and you are therefore more likely to find
    		what you are looking for.</li>
	</ul>

	<strong>What if I still cannot find what I am looking for?</strong>
	If you have tried all of the above and still cannot find what you are looking for,
	maybe MusicBrainz just does not have the information in the database. You can:

	<ul>
		<li>
			<strong><a href="/freedb/freedb.html?search=<% uri_escape($search) %>">Import
			a new release from FreeDB</a></strong>. You will need to spend some time
			cleaning up the data according to the <& /comp/linkdoc, "StyleGuideline",
			"style guidelines" &>, to add additional data like release attributes,
			release events before inserting it into MusicBrainz.</li>

% 	if (defined $artistobj)
%	{

		<li>
			<strong><a href="/edit/album/add.html?artistid=<% $artistobj->GetId %>">
			Add a new release to <% $artistobj->GetName %></a></strong>.</li>

% 	}
%	else
%	{
		<li>
			<strong><a href="http://musicbrainz.org/edit/artist/add.html?initial_name=<% $artist %>">
			Add a new artist</a></strong>.</li>
% 	}

% 	if ($artist ne "" && defined $artistobj)
%	{

		<li>
			If you cannot find the track you are looking for and you are <em>sure</em>
			that the track has never been released on any release or single (including bootlegs),
			you can <a href="/edit/track/addnonalbum.html?artistid=<% $artistobj->GetId %>"
			onclick="document.forms.AddNonAlbumTrack.submit(); return false">add a non-album track</a>
			to the artist <% $artist %>. Do <strong>not</strong> use this simply because
			you cannot find which release a track is on (or you have not looked properly),
			or your changes will most likely be voted down.</li>

% 	}

	</ul>

	<form method="post" action="/edit/track/addnonalbum.html" id="AddNonAlbumTrack">
		<input type="hidden" name="artistid" value="<% $artistobj ? $artistobj->GetId : '' %>" />
		<input type="hidden" name="trackname" value="<% $data->{track} %>" />
	</form>

%# vi: set ts=4 sw=4 ft=mason :

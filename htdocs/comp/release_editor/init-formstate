<%perl>
	# -----------------------------------------------------------------------------
	#                               Musicbrainz.org
	#                        Copyright (c) 2001 Robert Kaye
	# -----------------------------------------------------------------------------
	#  This software is provided "as is", without warranty of any kind, express or
	#  implied, including  but not limited  to the warranties of  merchantability,
	#  fitness for a particular purpose and noninfringement. In no event shall the
	#  authors or  copyright  holders be  liable for any claim,  damages or  other
	#  liability, whether  in an  action of  contract, tort  or otherwise, arising
	#  from,  out of  or in  connection with  the software or  the  use  or  other
	#  dealings in the software.
	#
	#  GPL - The GNU General Public License    http://www.gnu.org/licenses/gpl.txt
	#  Permits anyone the right to use and modify the software without limitations
	#  as long as proper  credits are given  and the original  and modified source
	#  code are included. Requires  that the final product, software derivate from
	#  the original  source or any  software  utilizing a GPL  component, such  as
	#  this, is also licensed under the GPL license.
	# -----------------------------------------------------------------------------
	#
	# Summary:
	# -----------------------------------------------------------------------------
	# Prepare the button texts, and messages used in the release editor.
	#
	# $Id$
	#
</%perl>
<%args>

	$submitvalue => undef

</%args>
<%perl>

	# default behaviour is validate, and showing the form
	$ARGS{"v::validate"} = 1;
	$ARGS{"v::showform"} = 1;

	# button which triggers the form validation
	$ARGS{"SUBMIT_NEXT"} = "Continue »";

	# add a new track to the release
	$ARGS{"SUBMIT_ADDTRACK"} = "Add track";

	# /comp/release_editor/review
	$ARGS{"SUBMIT_KEEPEDITING"} = "Keep Editing";
	$ARGS{"SUBMIT_STARTOVER"} = "Start Over";
	$ARGS{"SUBMIT_CANCEL"} = "Cancel";
	$ARGS{"SUBMIT_ENTERMODERATIONS"} = "Enter Edits";

	# release events
	$ARGS{"SUBMIT_ADDRELEASEEVENT"} = "Add release event »";

	# freedb import
	$ARGS{"SUBMIT_FREEDB"} = "FreeDB Lookup";
	$ARGS{"SUBMIT_SACIMPORT"} = "Import as single artist »";
	$ARGS{"SUBMIT_MACIMPORT"} = "Import as various artists »";

	# MAC/SAC conversion
	$ARGS{"SUBMIT_IGNOREMACSAC"} = "Ignore problem »";
	$ARGS{"SUBMIT_TOSAC"} = "Convert to single artist »";
	$ARGS{"SUBMIT_TOMAC"} = "Convert to various artists »";

	# show/hide track artists
	$ARGS{"SUBMIT_ARTISTS_SHOW"} = "Show track artists »";
	$ARGS{"SUBMIT_ARTISTS_HIDE"} = "Hide track artists »";

	# artistfilter: General buttons
	$ARGS{"SUBMIT_ADDARTIST"} = "Add new artist »";
	$ARGS{"SUBMIT_ADDARTIST_DONE"} = "SUBMIT_ADDARTIST_DONE";
	$ARGS{"SUBMIT_BACKTOFORM"} = "Back to form";

	# artistfilter: SAC
	$ARGS{"SUBMIT_SACARTIST_SEARCH"} = "Search for artist »";
	$ARGS{"SUBMIT_SACARTIST_SELECT"} = "Single artist conversion to this artist »";

	# artistfilter: MOVE RELEASE
	$ARGS{"SUBMIT_RELEASEARTIST_SEARCH"} = "Search for release artist »";
	$ARGS{"SUBMIT_RELEASEARTIST_SELECT"} = "Select release artist »";

	# artistfilter: CHANGE TRACK ARTIST
	$ARGS{"SUBMIT_TRACKARTIST_SEARCH"} = "Search for track artist »";
	$ARGS{"SUBMIT_TRACKARTIST_SELECT"} = "Select track artist »";

	# language/script
	$ARGS{"SUBMIT_LANG_COMPACT"} = "Show compact lists";
	$ARGS{"SUBMIT_LANG_FULL"} = "Show full lists";
	$ARGS{"SUBMIT_LANG_GUESS"} = "Guess";

	# attributes
	$ARGS{"SUBMIT_ATTR_GUESS"} = "Guess attributes";

	# similar-releases
	$ARGS{"SUBMIT_FORCESIMILAR"} = "Yes, my release is different »";

	# we got a form submit to handle.
	$ARGS{"v::formsubmitted"} = 0;
	if (defined $submitvalue)
	{
		$ARGS{"v::formsubmitted"} = 1;

		# because the submit paramter is overloaded, we
		# need to find the right operation. if SUBMIT_NEXT
		# was pressed, it will be skipped twice and is
		# therefore the default if no other submit button
		# was found. (see comment at the bottom of the
		# form)
		my $foundsubmit = "";
		if (ref($submitvalue) eq "ARRAY")
		{
			foreach my $btn (@$submitvalue) {
				$m->out("submitvalue: $btn<br/>");
				next if ($btn eq $ARGS{"SUBMIT_NEXT"});
				$foundsubmit = $btn;
				last;
			}
			$ARGS{"submitvalue"} = ($foundsubmit ne "" ? $foundsubmit : $ARGS{"SUBMIT_NEXT"});
		}
	}

	# return the modified arguments hash.
	return %ARGS;

</%perl>

%# vi: set ts=4 sw=4 ft=mason :

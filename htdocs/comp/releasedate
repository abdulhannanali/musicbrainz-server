<%perl>

	my ($Y, $M, $D) = @_;

	($Y, $M, $D) = $_[0]->GetYMD
		if (@_ == 1 and ref($_[0]));
	($Y, $M, $D) = split /-/, $_[0]
		if (@_ == 1 and not ref($_[0]));

	if (0+$D)
	{
		$m->out(sprintf "%04d-%02d-%02d", $Y, $M, $D);
		return;
	}
	if (0+$M)
	{
		$m->out(sprintf "%04d-%02d", $Y, $M);
		return;
	}
	if (0+$Y)
	{
		$m->out(sprintf "%04d", $Y);
		return;
	}
	$m->out("-");
	return;

</%perl>

%# vi: set ts=4 sw=4 ft=mason :

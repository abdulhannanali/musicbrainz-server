<%args>
$offset=>0
$guid=>""
$archive=>0
</%args>

<%perl>

my ($mb, @info, $row, $i, $num_mods, $comp, $pe);
my $max_items = 25;

$mb = new MusicBrainz;  

$offset = $ARGS{offset};
$offset = 0 if not defined $offset;
$offset = 0 if $offset < 0;  

$mb->Login();
$pe = Pending->new($mb);
($num_mods, @info) = $pe->GetPendingList($offset, $max_items, $guid, $archive);
$mb->Logout();

</%perl>

<TABLE BORDER="0" CELLPADDING="1" CELLSPACING="0"
       BGCOLOR="#000000" WIDTH="97%">
<TR><TD>
  <TABLE WIDTH="100%" BORDER="0" CELLSPACING="1" CELLPADDING="3">
  <TR>
    <& /comp/thcell, text=>'GUID' &>
    <& /comp/thcell, text=>'Artist' &>
    <& /comp/thcell, text=>'Album' &>
    <& /comp/thcell, text=>'Name' &>
    <& /comp/thcell, text=>'Num' &>
    <& /comp/thcell, text=>'Length' &>
    <& /comp/thcell, text=>'Genre' &>
  </TR>

<%perl>
for($i = 0; ; $i++) 
{
   $row = $info[$i];
   last if (!defined $row);

   mc_comp("/comp/showpending", row=>$row);
}
</%perl>

% if ($num_mods > $max_items) {
<tr><td colspan=7 bgcolor=white>

<& /comp/prevnextbuttons, 
   url=>"showpending.html",
   offset=>$offset,
   itemsperpage=>$max_items,
   totalitems=>$num_mods
&>
</td></tr>
% }

</table>

</TD></TR>
</TABLE>
<p>

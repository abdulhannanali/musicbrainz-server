<%perl>
my $result = $m->cache(action=>'retrieve');
#$result = undef;
if (!defined($result)) 
{
    my ($sth, @row);
    my $mb = mc_comp("/comp/dblogin", quiet=>1);
    if (defined $mb)
    {
        $sth = $mb->{DBH}->prepare(qq/select name, modsaccepted from Moderator
                                      where id != / . ModDefs::FREEDB_MODERATOR . 
                                   qq/ order by modsaccepted desc limit 5/); 
        if ($sth->execute)
        {
           my @row;
    
           while(@row = $sth->fetchrow_array)
           {
              $result .=qq\<tr>
                             <td align=right valign=top width="50%" class="statsb">
                                 $row[0]
                             </td>
                             <td align=left valign=top width="50%" class="stats">
                                 $row[1]
                             </td>
                               </tr>\;
           }
        }
        $mb->Logout();
    }

    $m->cache(action=>'store', expire_next=>'day', value=>$result);
}
</%perl>

<table cellpadding="2" cellspacing="0" border="0" class="statsb" width="110px">
        <% $result |n %>
</table>

	<div class="SideBarMoreLink">
		<span class="sidemenusmall"> 
			<a href="/topmods.html">more &gt;&gt;</a>
		</span>
	</div>

<!-- vi: set ts=2 sw=2 ft=mason : -->

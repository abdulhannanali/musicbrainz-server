<%perl>
my $result = $m->cache(action=>'retrieve');
#$result = undef;
if (!defined($result)) 
{
    my ($sth, @row);
    my $mb = mc_comp("/comp/dblogin", quiet=>1);
    if (defined $mb)
    {
        $sth = $mb->{DBH}->prepare(qq/select name, modsaccepted from Moderator
                                      where id != / . ModDefs::FREEDB_MODERATOR . 
                                   qq/ order by modsaccepted desc limit 5/); 
        if ($sth->execute)
        {
           my @row;
    
           while(@row = $sth->fetchrow_array)
           {
              $result .=qq\<tr>
                             <td align=right valign=top width=50% class="statsb">
                                 $row[0]:
                             </td>
                             <td align=left valign=top width=50% class="stats">
                                 $row[1]
                             </td>
                               </tr>\;
           }
        }
        $mb->Logout();
    }

    $m->cache(action=>'store', expire_next=>'hour', value=>$result);
}
</%perl>

<table cellpadding="10" cellspacing="0" border="0">
<tr>
   <td>
     <table width=100%>
        <% $result |n %>
     </table>
   </td>
</tr>
</table>  

<html>
	<head>
		<title>Test Page for trackNameFix(string)</title>
		<link rel="stylesheet" type="text/css" href="../css/jsUnitStyle.css">
		<script type="text/javascript" src="../app/jsUnitCore.js"></script>
		<script type="text/javascript" src="/scripts/autofix.js"></script>

	</head>
	<body>
		<script type="text/javascript">

			function runTest(_testname, _message, _sinput, _sexpect) {
				var _sreturn = "";
				try {
				_sreturn = trackNameFix(_sinput);
				assertEquals(_message, _sexpect, _sreturn);
				info('<span style="background-color: #aaffaa">'+_testname+' OK</span><br>'+
				'<span class="mbinput">IN: &nbsp;\''+_sinput+'\'</span><br>'+
				'<span class="mbexpect">EXP: \''+_sexpect+'\'</span>');
				} catch (ex) {
				_sinput  = _sinput.split(" ").join("&nbsp;");
				_sreturn = _sreturn.split(" ").join("&nbsp;");
				_sexpect = _sexpect.split(" ").join("&nbsp;");
				warn('<span style="background-color: #ffaaaa">'+_testname+' FAIL</span><br>'+"\n"+
				'<span class="mbinput">IN: &nbsp;\''+_sinput+'\'</span><br>'+"\n"+
				'<span class="mbexpect">EXP: \''+_sexpect+'\'</span><br>'+"\n"+
				'<span class="mberror">RET: \''+_sreturn+'\'</span><br>'+"\n"+
				(ex.ms != null ? '<span class="mberror">EXCEPTION: '+ex.msg+' </span><br>' : '')+"\n"+
				getMessages());
				throw ex;
				}
			}

			// capitalization
			function testTrackCapitalization1() {
				var _sinput  = "MY TRACK THE NAME";
				var _sexpect = "My Track the Name";
				runTest("testTrackCapitalization1", "Expect capitalization", _sinput, _sexpect);
			}
			function testTrackCapitalization2() {
				var _sinput  = "der fremde";
				var _sexpect = "Der Fremde";
				runTest("testTrackCapitalization2", "Expect capitalization", _sinput, _sexpect);
			}

			// forward slashes
			function testTrackSlash1() {
				var _sinput  = "Slash/Slash";
				var _sexpect = "Slash/Slash";
				runTest("testTrackSlash1", "Expect no change", _sinput, _sexpect);
			}
			function testTrackSlash2() {
				var _sinput  = "Slash/ Slash";
				var _sexpect = "Slash/ Slash";
				runTest("testTrackSlash2", "Expect no change", _sinput, _sexpect);
			}
			function testTrackSlash3() {
				var _sinput  = "Slash / Slash";
				var _sexpect = "Slash / Slash";
				runTest("testTrackSlash3", "Expect no change", _sinput, _sexpect);
			}

			// remix style
			function testTrackRemixStyle1() {
				var _sinput  = "MY TRACK (Name of the RMX)";
				var _sexpect = "My Track (Name of the remix)";
				runTest("testTrackRemixStyle1", "Expect capitalization", _sinput, _sexpect);
			}
			function testTrackRemixStyle2() {
				var _sinput  = "MY TRACK (Artist 1 & Artist 2 RMX)";
				var _sexpect = "My Track (Artist 1 & Artist 2 remix)";
				runTest("testTrackRemixStyle2", "Expect capitalization", _sinput, _sexpect);
			}
			function testTrackRemixStyle3() {
				var _sinput  = "My Track Extended DUB RMX";
				var _sexpect = "My Track (extended dub remix)";
				runTest("testTrackRemixStyle2", "Expect capitalization", _sinput, _sexpect);
			}


			// featuring artist
			function testTrackFeaturingStyle1() {
				var _sinput  = "MY TRACK (feat. Artistname)";
				var _sexpect = "My Track (feat. Artistname)";
				runTest("testTrackFeaturingStyle1", "No changes", _sinput, _sexpect);
			}
			function testTrackFeaturingStyle2() {
				var _sinput  = "MY TRACK  ( feat.  Artistname )";
				var _sexpect = "My Track (feat. Artistname)";
				runTest("testTrackFeaturingStyle2", "Correct feat. clause", _sinput, _sexpect);
			}
			function testTrackFeaturingStyle3() {
				var _sinput  = "MY TRACK  Featuring  Artistname";
				var _sexpect = "My Track (feat. Artistname)";
				runTest("testTrackFeaturingStyle3", "Correct feat. clause", _sinput, _sexpect);
			}
			function testTrackFeaturingStyle4() {
				var _sinput  = "MY TRACK  ft.  Artistname";
				var _sexpect = "My Track (feat. Artistname)";
				runTest("testTrackFeaturingStyle4", "Correct feat. clause", _sinput, _sexpect);
			}
			function testTrackFeaturingStyle5() {
				var _sinput  = "MY TRACK  ft  Artistname";
				var _sexpect = "My Track (feat. Artistname)";
				runTest("testTrackFeaturingStyle5", "Correct feat. clause", _sinput, _sexpect);
			}
			function testTrackFeaturingStyle6() {
				var _sinput  = "MY TRACK (house Vocal mix) ft  Artistname";
				var _sexpect = "My Track (House vocal mix) (feat. Artistname)";
				runTest("testTrackFeaturingStyle6", "Vocal to lowercase, feat. in parantheses", _sinput, _sexpect);
			}
			function testTrackFeaturingStyle7() {
				var _sinput  = "MY TRACK (house Vocal mix ft  Artistname)";
				var _sexpect = "My Track (House vocal mix) (feat. Artistname)";
				runTest("testTrackFeaturingStyle7", "Vocal to lowercase, feat. moved to another set of parantheses", _sinput, _sexpect);
			}


			function testTrackPart1() {
				var _sinput  = "This Is My Name Pt1";
				var _sexpect = "This Is My Name, Part 1";
				runTest("testTrackPart1", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPart2() {
				var _sinput  = "This Is My Name Pt 1";
				var _sexpect = "This Is My Name, Part 1";
				runTest("testTrackPart2", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPart3() {
				var _sinput  = "This Is My Name Pt. 1";
				var _sexpect = "This Is My Name, Part 1";
				runTest("testTrackPart3", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPart4() {
				var _sinput  = "This Is My Name Pt. #1";
				var _sexpect = "This Is My Name, Part 1";
				runTest("testTrackPart4", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPart5() {
				var _sinput  = "This Is My Name, Part 1";
				var _sexpect = "This Is My Name, Part 1";
				runTest("testTrackPart5", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPartSubtitle1() {
				var _sinput  = "This Is My Name Pt. 1 The subtitle";
				var _sexpect = "This Is My Name, Part 1: The Subtitle";
				runTest("testTrackPart5", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPartSubtitle2() {
				var _sinput  = "This Is My Name Pt. II The subtitle";
				var _sexpect = "This Is My Name, Part II: The Subtitle";
				runTest("testTrackPartSubtitle2", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackPartParens() {
				var _sinput  = "This Is My Name Pt. II (The text)";
				var _sexpect = "This Is My Name, Part II (The Text)";
				runTest("testTrackPartParens", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackParts1() {
				var _sinput  = "This Is My Name Pts 1";
				var _sexpect = "This Is My Name, Part 1";
				runTest("testTrackParts1", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackParts2() {
				var _sinput  = "This Is My Name Pts 1 & 2";
				var _sexpect = "This Is My Name, Parts 1 & 2";
				runTest("testTrackParts2", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackParts3() {
				var _sinput  = "This Is My Name Pts 1 - 2";
				var _sexpect = "This Is My Name, Parts 1 - 2";
				runTest("testTrackParts3", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackParts4() {
				var _sinput  = "This Is My Name, Parts 1 & 2";
				var _sexpect = "This Is My Name, Parts 1 & 2";
				runTest("testTrackParts4", "Correct part syntax", _sinput, _sexpect);
			}
			function testTrackParts5() {
				var _sinput  = "This Is My Name, Parts 1 - 2";
				var _sexpect = "This Is My Name, Parts 1 - 2";
				runTest("testTrackParts5", "Correct part syntax", _sinput, _sexpect);
			}
		</script>
	</body>
</html>


%# vi: set ts=2 sw=2 ft=mason :
<& /comp/sidebar, title=>'Using the MusicBrainz CVS Repository' &>

<h2>Introduction</h2>

<p>
	The latest bleeding edge version of our client library and server
	source is always available to everyone interested by read-only CVS.&nbsp;
	You can <a href="http://cvs.musicbrainz.org/">browse</a>
	the CVS trees online.&nbsp;
</p>

<p>
	Changes to the source trees are commented, releases are labeled,
	so you can find out what was going on and retrieve older releases if necessary.&nbsp;
</p>

<p>
	This system is well suited to administer changes to a project made by
	a group of various developers, and is thus used by many large Internet
	projects.&nbsp;
</p>

<h3>Further reading</h3>

<p>
	For more information visit the
	<a href="http://www.cyclic.com/">Cyclic Software</a>
	site or have a look at the info documentation that is online
	<a href="http://docs.freebsd.org/info/cvs/cvs.info.Top.html">here</a>
	at the
	<a href="http://www.freebsd.org">FreeBSD Project</a>.
</p>

<h2>Summary</h2>

<p>
	If you're looking for the quick copy-and-paste answer,
	and you're working under UNIX using some sort of
	Bourne shell, try this:
</p>

<pre><kbd class="KbdBlock"
>CVSROOT=:ext:cvs@cvs.musicbrainz.org:/var/cvs
export CVSROOT
wget ftp://ftp.musicbrainz.org/pub/musicbrainz/misc/musicbrainz_anoncvs
chmod 700 musicbrainz_anoncvs
mv musicbrainz_anoncvs ~/
CVS_RSH=~/musicbrainz_anoncvs
export CVS_RSH
</kbd></pre>

<p>Now check out whichever <a href="cvs-modules.html">modules</a> you want:</p>

<pre><kbd class="KbdBlock"
>cvs -z3 checkout -P mb_client
cvs -z3 checkout -P mb_tagger
cvs -z3 checkout -P mb_server</kbd></pre>

<p>
	To bring your checked-out copy up to date later on:
</p>

<pre><kbd class="KbdBlock"
>cd mb_client
cvs -z3 update</kbd></pre>

<h2>The Details</h2>

<h3>Preparation</h3>

<p>
	Before you can access the CVS server you need to download a setup file and set up two
	environment variables. We apologize if this process is a bit different from other
	open source projects, but we got hacked through a CVS pserver vulnerability and
	thus we no longer offer CVS access through the traditional access methods.
</p>

<p>
	Under UNIX using a Bourne shell (<tt>sh</tt>, <tt>bash</tt> etc)
	type the following:
</p>

<pre><kbd class="KbdBlock"
>CVSROOT=:ext:cvs@cvs.musicbrainz.org:/var/cvs
export CVSROOT
</kbd></pre>

<p>or</p>

<pre><kbd class="KbdBlock"
>setenv CVSROOT :ext:cvs@cvs.musicbrainz.org:/var/cvs</kbd></pre>

<p>
	if you work under a C shell (<tt>csh</tt>, <tt>tcsh</tt> etc).
</p>

<p>
	Under Windows type the following:
</p>

<pre><kbd class="KbdBlock"
>set CVSROOT=:ext:cvs@cvs.musicbrainz.org:/var/cvs</kbd></pre>

<p>
(Use the appropriate forms mentioned above for the following steps as well.)
Next, you need to download a small setup script that will make it easy for you to access our CVS
respository. Using wget (or a web browser) download the following script:
</p>

<pre><kbd class="KbdBlock"
>wget ftp://ftp.musicbrainz.org/pub/musicbrainz/misc/musicbrainz_anoncvs
</kbd></pre>

<p>
Then, move this file to some safe place (your home directory should be good) and make the
script executable:
</p>

<pre><kbd class="KbdBlock"
>mv musicbrainz_anoncvs ~/
chmod 700 ~/musicbrainz_anoncvs 
</kbd></pre>

<p>
The last chmod command is only needed under Linux/Unix. Finally, set the CVS_RSH environment
variable to point to this script:
</p>

<pre><kbd class="KbdBlock"
>CVS_RSH=~/musicbrainz_anoncvs
export CVS_RSH
</kbd></pre>

<p>
Now you're ready to check out source code from the MusicBrainz CVS respository!
</p>

<h3>Getting the source trees</h3>

<p>
	Now all you have to do to get the most up-to-date copy of
	the source code is type:
</p>

<pre><kbd class="KbdBlock"
>cvs -z3 checkout -P <em>module</em></kbd></pre>

<p>
	where <em>module</em> is one (or more) of these values:
</p>

<ul>
	<li>
		<b>mb_client</b> for the MusicBrainz client library
	</li>
	<li>
		<b>mb_server</b> for the MusicBrainz server
	</li>
	<li>
		<b>mb_tagger</b> for the MusicBrainz Tagger
	</li>
	<li>
		<b>tunepimp</b> for the TunePimp library
	</li>
</ul>

<p>
You may also want to check out the <a href="cvs-modules.html">cvs module list</a> for a list of all 
available modules.
</p>

<p>
	Note that the <tt>-z3</tt> option will use a moderate level
	of compression
	on the data exchanged with the server, thus speeding up
	the checkout process across the network.
</p>

<h3>Updating</h3>

<p>
	Once you have checked out a copy of the source you can
	bring your copy up to date again
	by changing to the project directory and typing:
</p>

<pre><kbd class="KbdBlock">cvs -z3 update -Pd</kbd></pre>

<h2>Help</h2>

<p>
	Confused?&nbsp;
	Send mail to
	<a href="mailto&#x3a;support&#x0040;musicbrainz.org">support&#x0040;musicbrainz.org</a>
	if you need more help,
	or drop by the
	<a href="irc://irc.freenode.net/musicbrainz"
		>#musicbrainz IRC channel</a>.&nbsp;
	Check out the <a href="/wd/ContactUs">contacts page</a>
	for more ways to get in touch.
</p>

<& /comp/footer &>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MusicBrainz Client Library: musicbrainz.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6-20040222 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>musicbrainz.h</h1><a href="musicbrainz_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/* --------------------------------------------------------------------------</span>
00002 <span class="comment"></span>
00003 <span class="comment">   MusicBrainz -- The Internet music metadatabase</span>
00004 <span class="comment"></span>
00005 <span class="comment">   Copyright (C) 2000 Robert Kaye</span>
00006 <span class="comment">   Portions Copyright (C) 2000 David Gray</span>
00007 <span class="comment">   </span>
00008 <span class="comment">   This library is free software; you can redistribute it and/or</span>
00009 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
00010 <span class="comment">   License as published by the Free Software Foundation; either</span>
00011 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
00012 <span class="comment">   </span>
00013 <span class="comment">   This library is distributed in the hope that it will be useful,</span>
00014 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00015 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
00016 <span class="comment">   Lesser General Public License for more details.</span>
00017 <span class="comment">   </span>
00018 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
00019 <span class="comment">   License along with this library; if not, write to the Free Software</span>
00020 <span class="comment">   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
00021 <span class="comment"></span>
00022 <span class="comment">     $Id$</span>
00023 <span class="comment"></span>
00024 <span class="comment">----------------------------------------------------------------------------*/</span>
00025 <span class="preprocessor">#ifndef _MUSICBRAINZ_H_</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define _MUSICBRAINZ_H_</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">#include &lt;string&gt;</span>
00029 <span class="preprocessor">#include &lt;vector&gt;</span>
00030 <span class="preprocessor">#include &lt;list&gt;</span>
00031 
00032 <span class="preprocessor">#include "errors.h"</span>
00033 <span class="preprocessor">#include "<a class="code" href="queries_8h.html">queries.h</a>"</span>
00034 
00035 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00036 
00037 <span class="keyword">class </span>RDFExtract;
00038 
00039 <span class="preprocessor">#if defined(_WIN32) &amp;&amp; defined(MUSICBRAINZ_EXPORTS)</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#define EXPORT __declspec(dllexport)</span>
00041 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00042"></a><a class="code" href="musicbrainz_8h.html#a0">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define EXPORT</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00044 <span class="preprocessor"></span>
<a name="l00045"></a><a class="code" href="classMusicBrainz.html">00045</a> <span class="keyword">class </span><a class="code" href="classMusicBrainz.html">MusicBrainz</a>
00046 {
00047     <span class="keyword">public</span>: 
00048        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a>          <a class="code" href="classMusicBrainz.html#a0">MusicBrainz</a>(<span class="keywordtype">void</span>);
00049        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keyword">virtual</span> <a class="code" href="classMusicBrainz.html#a1">~MusicBrainz</a>(<span class="keywordtype">void</span>);
00050 
00051        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     <a class="code" href="classMusicBrainz.html#a2">GetVersion</a>       (<span class="keywordtype">int</span> &amp;major, <span class="keywordtype">int</span> &amp;minor, <span class="keywordtype">int</span> &amp;rev);
00052        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a3">SetServer</a>        (<span class="keyword">const</span> string &amp;serverAddr, 
00053                                          <span class="keywordtype">short</span> serverPort);
00054        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a4">SetProxy</a>         (<span class="keyword">const</span> string &amp;proxyAddr, 
00055                                          <span class="keywordtype">short</span> proxyPort);
00056        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a5">SetProxyCreds</a>    (<span class="keyword">const</span> string &amp;proxyUsername, 
00057                                          <span class="keyword">const</span> string &amp;proxyPassword);
00058        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a6">Authenticate</a>     (<span class="keyword">const</span> string &amp;userName,
00059                                          <span class="keyword">const</span> string &amp;password);
00060 
00061        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a7">SetDevice</a>        (<span class="keyword">const</span> string &amp;device);
00062        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a8">SetDepth</a>         (<span class="keywordtype">int</span> depth);
00063        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a9">SetMaxItems</a>      (<span class="keywordtype">int</span> maxItems);
<a name="l00064"></a><a class="code" href="classMusicBrainz.html#a10">00064</a>        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     <a class="code" href="classMusicBrainz.html#a10">UseUTF8</a>          (<span class="keywordtype">bool</span> bUse) { m_useUTF8 = bUse; };
00065 
00066        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a11">Query</a>            (<span class="keyword">const</span> string &amp;rdfObject, 
00067                                          vector&lt;string&gt; *args = NULL);
00068        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     <a class="code" href="classMusicBrainz.html#a12">GetQueryError</a>    (string &amp;ErrorText);
00069        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a13">GetWebSubmitURL</a>  (string &amp;url);
00070   
00071        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a14">Select</a>           (<span class="keyword">const</span> string &amp;selectQuery,
00072                                          <span class="keywordtype">int</span>           ordinal = 0);
00073        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a14">Select</a>           (<span class="keyword">const</span> string &amp;selectQuery,
00074                                          list&lt;int&gt;    *ordinalList);
00075 
00076        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a16">DoesResultExist</a>  (<span class="keyword">const</span> string &amp;resultName, 
00077                                          <span class="keywordtype">int</span> Index = 0);
00078        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a17">GetResultData</a>    (<span class="keyword">const</span> string &amp;resultName, 
00079                                          <span class="keywordtype">int</span> Index, 
00080                                          string &amp;data);
00081        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keyword">const</span> string &amp;<a class="code" href="classMusicBrainz.html#a18">Data</a>        (<span class="keyword">const</span> string &amp;resultName, 
00082                                          <span class="keywordtype">int</span> Index = 0);
00083        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">int</span>      <a class="code" href="classMusicBrainz.html#a19">DataInt</a>          (<span class="keyword">const</span> string &amp;resultName, 
00084                                          <span class="keywordtype">int</span> Index = 0);
00085 
00086        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a20">GetResultRDF</a>     (string &amp;RDFObject);
00087        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a21">SetResultRDF</a>     (string &amp;RDFObject);
00088 
00089        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     <a class="code" href="classMusicBrainz.html#a22">GetIDFromURL</a>     (<span class="keyword">const</span> string &amp;url, string &amp;<span class="keywordtype">id</span>);
00090        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     <a class="code" href="classMusicBrainz.html#a23">GetFragmentFromURL</a>(<span class="keyword">const</span> string &amp;url, string &amp;fragment);
00091        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">int</span>      <a class="code" href="classMusicBrainz.html#a24">GetOrdinalFromList</a>(<span class="keyword">const</span> string &amp;resultList, <span class="keyword">const</span> string &amp;URI);
00092 
00093        <span class="comment">/* These functions are helper functions that may be useful for clients */</span>
00094        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">bool</span>     <a class="code" href="classMusicBrainz.html#a25">GetMP3Info</a>       (<span class="keyword">const</span> string &amp;fileName, 
00095                                          <span class="keywordtype">int</span>          &amp;duration,
00096                                          <span class="keywordtype">int</span>          &amp;bitrate,
00097                                          <span class="keywordtype">int</span>          &amp;stereo,
00098                                          <span class="keywordtype">int</span>          &amp;samplerate);
00099 
00100 <span class="preprocessor">#ifdef WIN32</span>
00101 <span class="preprocessor"></span>       <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     WSAInit          (<span class="keywordtype">void</span>);
00102        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     WSAStop          (<span class="keywordtype">void</span>);
00103 <span class="preprocessor">#endif</span>
00104 <span class="preprocessor"></span>
00105        <a class="code" href="musicbrainz_8h.html#a0">EXPORT</a> <span class="keywordtype">void</span>     <a class="code" href="classMusicBrainz.html#a26">SetDebug</a>         (<span class="keywordtype">bool</span> debug);
00106 
00107     <span class="keyword">private</span>:
00108 
00109        <span class="keyword">const</span> string EscapeArg(<span class="keyword">const</span> string &amp;xml);
00110        <span class="keywordtype">void</span>         SubstituteArgs(string &amp;xml, vector&lt;string&gt; *args);
00111        <span class="keywordtype">void</span>         ReplaceArg(string &amp;rdf, <span class="keyword">const</span> string &amp;from, 
00112                                <span class="keyword">const</span> string &amp;to);
00113        <span class="keywordtype">void</span>         ReplaceIntArg(string &amp;rdf, <span class="keyword">const</span> string &amp;from, <span class="keywordtype">int</span> to);
00114        <span class="keywordtype">void</span>         SetError(Error ret);
00115        <span class="keywordtype">void</span>         MakeRDFQuery(string &amp;rdf);
00116 
00117        vector&lt;string&gt;  m_contextHistory;
00118        string          m_error, m_empty; 
00119        string          m_server, m_proxy, m_proxyUid, m_proxyPwd;
00120        string          m_sessionKey, m_sessionId, m_versionString;
00121        <span class="keywordtype">short</span>           m_serverPort, m_proxyPort;
00122        string          m_device, m_currentURI, m_baseURI, m_response; 
00123        RDFExtract     *m_rdf;
00124        <span class="keywordtype">bool</span>            m_useUTF8, m_debug;
00125        <span class="keywordtype">int</span>             m_depth, m_maxItems;
00126 };
00127 
00128 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Mar 26 15:02:26 2004 for MusicBrainz Client Library by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > </a>1.3.6-20040222 </small></address>
</body>
</html>

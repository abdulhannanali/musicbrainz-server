<& /comp/sidebar, title=>'Music Metadata (ID3 and Vorbis/FLAC Comment) Tags' &>

<div style="width: 420;">
<p>
Applications that read or write metadata tags from music files should
follow one consistent specification for what MusicBrainz information is
stored where and in what tag. That way all the work of the various
tagger applications will contribute to a well connected and clean
body of metadata. Any application that deals with music should be able
to read the MusicBrainz identifiers from a music file in order to communicate 
unambiguously about the music it's working with.
</p>

<& /comp/section, title=>'ID3v2 Tag specifications' &>

<p>
To store the MusicBrainz identifiers in an ID3v2 tag, you will need to
use a UFID frame for the Track Id, and up to three TXXX user defined
text frames for the artist, album and trm identifiers. Please note
that for ease of use the ID3 frames are specified to use ISO 8859-1.
However, the types of characters used to express these tags are the 
same in ISO 8895-1 and UTF-8, since UTF-8 is backward compatible with
7-bit ASCII.
</p>

<p>
<b>MusicBrainz Track Identifier:</b>
</p>

<blockquote>
<p>
UFID frame
</p>

<table>
<tr>
  <td>Owner identifier:</td><td>http://musicbrainz.org</td>
</tr>
<tr>
  <td>Identifier:</td><td>[mb track uuid]</td>
</tr>
</table>

<p>
(see section 4.1 in the <a href="http://www.id3.org/id3v2.4.0-frames.txt">ID3v2.4 
 specification</a>)
</p>
</blockquote>


<p>
<b>MusicBrainz Artist Identifier:</b>
</p>

<blockquote>
<p>
TXXX User defined text information frame 
</p>

<table>
<tr>
  <td>Text encoding</td><td>$00 (ISO-8859-1)</td>
</tr>
<tr>
  <td>Description</td><td>MusicBrainz Artist Id</td>
</tr>
<tr>
  <td>Value:</td><td>[mb artist uuid]</td>
</tr>
</table>

<p>
(see section 4.2.6 in the <a href="http://www.id3.org/id3v2.4.0-frames.txt">ID3v2.4 
 specification</a>)
</p>
</blockquote>

<p>
<b>MusicBrainz Album Identifier:</b>
</p>

<blockquote>
<p>
TXXX User defined text information frame 
</p>

<table>
<tr>
  <td>Text encoding</td><td>$00 (ISO-8859-1)</td>
</tr>
<tr>
  <td>Description</td><td>MusicBrainz Album Id</td>
</tr>
<tr>
  <td>Value:</td><td>[mb album uuid]</td>
</tr>
</table>

<p>
(see section 4.2.6 in the <a href="http://www.id3.org/id3v2.4.0-frames.txt">ID3v2.4 
 specification</a>)
</p>
</blockquote>

<p>
<b>MusicBrainz Album Artist Identifier:</b>
</p>

<p>
This identifier is used to indicate the artist for the album if the
tracks on the album are from various artists. Currently, only
an artist id of 89ad4ac3-39f7-470e-963a-56509c546377 is being used
to indicate that this track comes from a various artist album. If this
field is not present, the track comes from an album where all tracks
were created by the same artist.

<blockquote>
<p>
TXXX User defined text information frame 
</p>

<table>
<tr>
  <td>Text encoding</td><td>$00 (ISO-8859-1)</td>
</tr>
<tr>
  <td>Description</td><td>MusicBrainz Album Artist Id</td>
</tr>
<tr>
  <td>Value:</td><td>[mb album `artist uuid]</td>
</tr>
</table>

<p>
(see section 4.2.6 in the <a href="http://www.id3.org/id3v2.4.0-frames.txt">ID3v2.4 
 specification</a>)
</p>
</blockquote>

<p>
<b>MusicBrainz TRM Identifier:</b>
</p>

<blockquote>
<p>
TXXX User defined text information frame 
</p>

<table>
<tr>
  <td>Text encoding</td><td>$00 (ISO-8859-1)</td>
</tr>
<tr>
  <td>Description</td><td>MusicBrainz TRM Id</td>
</tr>
<tr>
  <td>Value:</td><td>[mb trm uuid]</td>
</tr>
</table>

<p>
(see section 4.2.6 in the <a href="http://www.id3.org/id3v2.4.0-frames.txt">ID3v2.4 
 specification</a>)
</p>
</blockquote>

<p>
<b>MusicBrainz Artist Sortname</b>
</p>

<p>
The artist sortname should really be stored in a ID3v2.4 frame called TSOP,
but that is not supported under ID3v2.3. For writing ID3v2.3 tags, a XSOP
frame that is formatted like a regular text frame should be used.  You should 
never write a XSOP frame in ID3v2.4 tag.

<blockquote>
<p>
XSOP Experimental, Sort order, Performer.
</p>


<table>
<tr>
  <td>Text encoding</td><td>[implementers choice *]</td>
</tr>
<tr>
  <td>Value:</td><td>[mb artist sortname]</td>
</tr>
</table>

<p>
* The text encoding field should be set to whatever encoding
is being used for the TPE1, TIT2 and TALB track.  Given
that MusicBrainz uses UTF-8 to store its data, you should
choose encoding $03 (UTF-8) if you plan to store
MB data without changing its encoding. <b>However, the UTF-8
encoding is only available in ID3v2.4.</b> Alternatively use
encoding $01 (UTF-16) if you're writing ID3v2.3 or earlier tags.
</p>

<p>
(<a href="http://www.id3.org/id3v2.4.0-frames.txt">ID3v2.4 
 specification</a> for more details on X??? frames)
</p>
</blockquote>
<& /comp/section, title=>'Vorbis/FLAC comment specifications' &>


<p>
To store the MusicBrainz identifiers in an Ogg Vorbis comment stream  or a FLAC file
you will need to use the following comments. Remember that
Vorbis/FLAC comments fields are in <b>UTF-8</b>, and they should follow
these <a href="http://reactor-core.org/ogg-tag-recommendations.html">recommendations</a>.
</p>

<p>
<b>MusicBrainz Track Identifier:</b>
</p>

<blockquote>
<table>
<tr>
  <td>Comment name:</td><td>MUSICBRAINZ_TRACKID</td>
</tr>
<tr>
  <td>Comment value:</td><td>[mb track uuid]</td>
</tr>
</table>
</blockquote>


<p>
<b>MusicBrainz Artist Identifier:</b>
</p>

<blockquote>
<table>
<tr>
  <td>Comment name:</td><td>MUSICBRAINZ_ARTISTID</td>
</tr>
<tr>
  <td>Value:</td><td>[mb artist uuid]</td>
</tr>
</table>
</blockquote>

<p>
<b>MusicBrainz Album Identifier:</b>
</p>

<blockquote>
<table>
<tr>
  <td>Comment name:</td><td>MUSICBRAINZ_ALBUMID</td>
</tr>
<tr>
  <td>Comment value:</td><td>[mb album uuid]</td>
</tr>
</table>

</blockquote>

<p>
<b>MusicBrainz Album Artist Identifier:</b>
</p>

<p>
See comments above in ID3 section.
</p>

<blockquote>
<table>
<tr>
  <td>Comment name:</td><td>MUSICBRAINZ_ALBUMARTISTID</td>
</tr>
<tr>
  <td>Comment value:</td><td>[mb album artist uuid]</td>
</tr>
</table>

</blockquote>
<p>
<b>MusicBrainz TRM Identifier:</b>
</p>

<blockquote>
<table>
<tr>
  <td>Comment name:</td><td>MUSICBRAINZ_TRMID</td>
</tr>
<tr>
  <td>Comment value:</td><td>[mb trm uuid]</td>
</tr>
</table>
</blockquote>

<p>
<b>MusicBrainz Artist Sortname</b>
</p>

<blockquote>
<table>
<tr>
  <td>Comment name:</td><td>MUSICBRAINZ_SORTNAME</td>
</tr>
<tr>
  <td>Comment value:</td><td>[mb artist sortname]</td>
</tr>
</table>
</blockquote>

</div>

<& /comp/footer &>

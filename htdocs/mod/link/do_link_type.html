%# vi: set ts=4 sw=4 ft=mason :
<%args>
$type => ""
$id => ""
</%args>
<%perl>

# This script is effectively a "redirect dispatch" thingy.
# link_types.html calls us with ($type, $id) and one other argument.
# We redirect to the appropriate page (passing $type and $id along)
# based on the third argument.

my $args = "?type=$type&id=$id";
my $page;

$page = "/mod/link/add_link_type.html$args" if $ARGS{'AddChild'};
$page = "/mod/link/edit_link_type.html$args" if $ARGS{'EditLink'};
$page = "/mod/link/reorder_link_type.html$args" if $ARGS{'Reorder'};
$page = "/mod/link/delete_link_type.html$args" if $ARGS{'DeleteLink'};
$page ||= "/mod/link/link_types.html?type=$type";

return $m->comp("/comp/redirect", $page);

</%perl>

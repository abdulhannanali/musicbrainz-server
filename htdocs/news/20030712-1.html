<& /comp/sidebar, title => 'July 12th, 2003: Server Updates' &>

<pre>
Change Log for mb_server
========================

Adding and removing tracks
--------------------------

Certain checks are now made to see if tracks can be added to, and
removed from, a release.  This is primarily to protect releases with
Disc IDs from having the Disc ID "broken" via the addition or removal of
tracks.

Example: let's say you've got a 15-track version of some album, but it's
not in MusicBrainz; however there is a 14-track version already in the
database.  If the 14-track version has a good Disc ID then you won't be
able to add the 15th track to it - you'll have to create a new release.

Viewing artist releases
-----------------------

The page where you can view a list of releases for an artist
(/showartist.html, also currently called "Show Albums") now has two
display modes: "Full" and "Compact".  "Full" is the old behaviour.
"Compact" shows the data in a more compact, tabular, form, with one row
per release.  In "compact" mode, all you get is a link to view each
individual release - there are no "Edit", "Del", or "edit attributes"
links, and the releases cannot be expanded to show track listings.

You can manually switch between "full" and "compact" views.  The default
is "full" mode, unless there are more than /n/ releases (/n/ is set by a
new preference), in which case you get "full" mode.

The aim of this feature is to generate more lightweight pages,
especially for artists with a large number of releases, e.g. Bach,
Mozart, Elvis Presley, David Bowie.

Sorting disc sets
-----------------

When sorting releases by name on the aforementioned "showartist.html"
page, the system now "understands" the "(disc /n/)" notation, and sorts
those releases numerically instead of lexically - i.e. 10 ends up coming
after 9, not between 1 and 2.  It also recognises "(disc /n/ of /m/)"
and sorts those releases by /m/ first, then /n/.

Also, "ties" in the sort order are now broken by track count (least
first), TRM count (most first), and finally database row ID.

Moderation notes
----------------

URLs to the show(album|artist|track|mod).html pages are now hyperlinked
when displayed.

Internal architecture
---------------------

Moderation Notes have been split out into their own class (from
Moderation.pm).  So have Votes.  This makes it fractionally easier to
write code to add notes to moderations.  Maybe in a few releases time I
might get the ModBot to add more notes, e.g. every time any moderation
fails (apart from "failed vote"), maybe the ModBot should explicitly
state the reason for the failure.



Dave Evans

</pre>

<& /comp/footer &>

%# vi: set ts=2 sw=2 ft=mason :
<& /comp/sidebar, title => 'August 9th, 2004: TRM Database Pruned' &>

<p>
	At about 11pm (UK time) on August 9th the TRM database
	was "pruned", removing all TRMs apart from the ones attached to
	MusicBrainz tracks.&nbsp; This resulted in the database becoming about
	<a href="http://www.musicbrainz.org/mrtg/bender.cgi?log=bender-datsize"
		>one-third of the size</a> it was before.
</p>

<p>
	Because the TRM database is smaller, it now fits into the server's
	memory, <a href="http://www.musicbrainz.org/mrtg/bender.cgi?log=bender-diskio"
		>reducing the need for disk activity</a> (which means the rest of
	MusicBrainz runs faster too).
</p>

<p>
	Because TRM requests can now be served from memory instead of from disk,
	<a href="http://www.musicbrainz.org/mrtg/zim.cgi?log=zim-trmtaken"
		>TRM responses are now much quicker</a>,
	which in turn means that
	<a href="http://www.musicbrainz.org/mrtg/zim.cgi?log=zim-trmstats"
		>we don't have to refuse as many TRM requests</a>
	due to the server being too busy.
</p>

<p>
	(Note that most of those linked graphs started in mid March 2004,
	just before the TRM server's memory was upgraded.&nbsp; This explains why
	several of the graphs start with a sudden change in behaviour.)
</p>

<& /comp/footer &>
